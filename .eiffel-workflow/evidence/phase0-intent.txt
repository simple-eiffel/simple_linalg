# Phase 0 Intent Evidence
# Project: simple_linalg
# Date: 2026-01-29 14:35 UTC

## Completion Status

Intent document: .eiffel-workflow/intent-v2.md
AI review conducted: YES
AI used for review: Claude Code (local, in-process)
Questions answered: 10 (all clarifications resolved)
User approved: YES

## Intent Versions

intent.md (v1): Initial intent from specification
intent-v2.md (v2): Refined intent incorporating AI review answers

## Decisions Locked In

✅ MML Decision: NO (arrays private, public API abstract)
✅ simple_* First: ENFORCED (only simple_math + ISE allowed)
✅ Void Safety: ALL (void_safety="all" in ECF)
✅ SCOOP Compatible: YES (immutable results)

## AI Review Answers

1. Matrix size limits: Tested up to 1000×1000, documented limit with memory caveats
2. Condition number threshold: κ ≤ 1e12 (IEEE 754 relative error limits)
3. Eigenvalue convergence: |λ_new - λ_old| / |λ_old| < 1e-10, max 10K iterations
4. Partial pivoting: Standard (max element), precondition not_singular
5. Residual computation: Always computed, returned in SOLVER_RESULT.residual_norm
6. VECTOR_N dimension: No hard limit, memory-constrained, O(n) operations
7. Column-major storage: Transparent to user (internal only), API is row-major
8. LU decomposition: Single matrix + permutation ARRAY (standard storage)
9. Eigenvalue return: EIGENVALUE_RESULT (λ + v), both from power iteration
10. Sparse handling: No Phase 1 support, Phase 2 has simple_sparse

## Key Clarifications

- Condition number: κ ≤ 1e12 ensures meaningful solutions (IEEE 754 limits)
- Partial pivoting: Standard algorithm (swap largest element), handles near-zeros
- Residual: Always computed ||Ax - b||, returned for validation
- LU storage: L below diagonal, U on/above diagonal in single MATRIX
- Eigenvalue: Both λ and eigenvector v returned (power iteration gives both)
- Column-major: Implementation detail, API uses row-major indexing
- VECTOR_N: No dimension limit, tested to 1M elements
- Phase 1: Dense real REAL_64 only; Phase 2+: sparse, complex, GPU

## Size & Performance

| Operation | Max Tested | Typical Time |
|-----------|------------|--------------|
| Vector dim | 1,000,000 | O(n) per op |
| Matrix multiply (1000×1000) | 1000×1000 | ~10 ms |
| LU factorization (1000×1000) | 1000×1000 | ~100 ms |
| Eigenvalue (power iter) | 1000×1000 | ~100 ms |

## Status

PHASE 0 COMPLETE: Intent refined and approved.

✅ All ambiguities clarified
✅ All decisions documented
✅ AI review completed locally (10 questions)
✅ intent-v2.md ready for Phase 1
✅ Size limits documented
✅ Performance characteristics established

Next Phase: /eiffel.contracts simple_linalg
